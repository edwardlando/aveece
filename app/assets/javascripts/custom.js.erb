$(document).ready(function() {

	// Stops Devise from signing out user when Ajax POST request is made
	$.ajaxSetup({
	    beforeSend: function(xhr) {
	        xhr.setRequestHeader('X-CSRF-Token',
	        $('meta[name="csrf-token"]').attr('content'));
	    }
	});

	jQuery.ajaxSetup({ 
		'beforeSend': function(xhr) {xhr.setRequestHeader("Accept", "text/javascript")} 
	});


	// Masonry
	var $container = $('#container');

	$container.imagesLoaded(function(){
	  $container.masonry({
	    itemSelector : '.box'
	  });
	});

	// Modals
	function overlay() {
		alert("called");
		el = $("#overlay");
		el.style.visibility = (el.style.visibility == "visible") ? "hidden" : "visible";
	};

	
	window.onload = overlay();

	$("#add").on("click", function(event) {
		alert("yo");
		overlay();
		//$("#container").modal({overlayClose:true});
	})

});